@model OtherClasses.Models.MR_DATA.MR_DATAvm

@{
    ViewBag.Title = "ImageAcquisitions";
    ViewBag.TitleBar = "MEDICAL HISTORY IMAGE ACQUISITIONS AND PROFILE";
    Layout = "~/Views/Shared/_MRFormLayout.cshtml";
}


<style>
    .imageBlock {
        width: 130px;
        height: 100px;
        border: solid 1px;
    }

    .imageText {
        width: 130px;
        height: 20px;
        border: solid 1px;
        overflow: hidden;
    }

    .borderLine {
        border: solid 1px;
    }

    .imageBigBox{
        width: 210px;
        height: 225px;
        border: solid 1px;
    }

    .borderRight{
        border-right: solid 1px;
    }

    .uploadModal{
        height: 200px !important;
    }

    .title{
        font-size: 15px;
        font-weight: bold;
        padding-right: 10px
    }

    .contentDiv{
        margin-top: 40px !important;
    }

    img{
        width: 100%;
        height: 100%;
    }

    .zoomBlock{
        width: 100%;
        height: 60rem;
    }

    .textArea{
        resize: none;
    }

</style>



<!--Modal Start-->
<div id="1LkUp" class="djq-modal djq-hide">
    <div class="djq-body">
        <div>
            <div class="djq-body1 deep-g alc">
                <label class="label ls">LOOKUP FOR RECORDED DAILY ATTENDANCE</label>
            </div>
            <div class="numberOfRows djq-hide"></div>

            <div class="djq-body11 alc">
                <label class="label">Search: </label>
                <input type="text" id="mySearchTerm" value="" class="input w-7" />
                <button type="button" id="btnSearch" class="btn clm search-dataJQ">SEARCH</button>
                <label id="djq-result" class="label"></label>
                <label id="djq-aval" class="label hide">LOADING...</label>
                <label id="djq-curVal" class="djq-hide"></label>
                <label id="djq-max" class="djq-hide"></label>
            </div>
            <div class="loader djq-transp">.</div>

        </div>
        <div>
            <div class="djq-body2" style="margin-top: 0px !important;">
                <table id="regPTable1">

                    <thead>
                    </thead>
                    <tbody></tbody>

                </table>
            </div>
        </div>

        <div class="djq-body3 deep-g alc">
            <div class="inline-block ww50 all va-top">
                <button type="button" id="first"
                        class="btn clm " style="background-color:#607d8b !important;">
                    &lt;&lt;&lt;
                </button>
                <button type="button" id="previous"
                        class="btn clm " style="background-color:#607d8b !important;">
                    &lt;&lt;
                </button>
                <button type="button" id="next"
                        class="btn clm " style="background-color:#607d8b !important;">
                    &gt;&gt;
                </button>
                <button type="button" id="last"
                        class="btn clm " style="background-color:#607d8b !important;">
                    &gt;&gt;&gt;
                </button>
            </div>
            <div class="inline-block ww45 va-top">
                <button type="button" class="btn clm select-dataJQ">SELECT</button>
                <button type="button" class="btn clm close-dataJQ">CLOSE</button>
            </div>
        </div>
    </div>
</div>
<!--Modal End-->

<!--Modal Start-->
<div id="2LkUp" class="djq-modal djq-hide">

    <div class="djq-body">
        <div>
            <div class="djq-body1 deep-g alc">
                <label class="label ls">LOOKUP FOR REGISTERED PATIENTS</label>
            </div>
            <div class="numberOfRows djq-hide"></div>

            <div class="djq-body11 alc">
                <label class="label">Search: </label>
                <input type="text" id="mySearchTerm" value="" class="input w-7" />
                <button type="button" id="btnSearch" class="btn clm search-dataJQ">SEARCH</button>
                <label id="djq-result" class="label"></label>
                <label id="djq-aval" class="label hide">LOADING...</label>
                <label id="djq-curVal" class="djq-hide"></label>
                <label id="djq-max" class="djq-hide"></label>
            </div>
            <div class="loader djq-transp">.</div>

        </div>
        <div>
            <div class="djq-body2" style="margin-top: 0px !important;">
                <table id="regPTable2">

                    <thead>
                    </thead>
                    <tbody></tbody>

                </table>
            </div>
        </div>

        <div class="djq-body3 deep-g alc">
            <div class="inline-block ww50 all va-top">
                <button type="button" id="first"
                        class="btn clm " style="background-color:#607d8b !important;">
                    &lt;&lt;&lt;
                </button>
                <button type="button" id="previous"
                        class="btn clm " style="background-color:#607d8b !important;">
                    &lt;&lt;
                </button>
                <button type="button" id="next"
                        class="btn clm " style="background-color:#607d8b !important;">
                    &gt;&gt;
                </button>
                <button type="button" id="last"
                        class="btn clm " style="background-color:#607d8b !important;">
                    &gt;&gt;&gt;
                </button>
            </div>
            <div class="inline-block ww45 va-top">
                <button type="button" class="btn clm select-dataJQ">SELECT</button>
                <button type="button" class="btn clm close-dataJQ">CLOSE</button>
            </div>
        </div>
    </div>
</div>
<!--Modal End-->

@*Upload Modal photo*@
<div id="3LkUp" class="djq-modal djq-hide custom">
    <div class="djq-body uploadModal">
        <div>
            <div class="djq-body1 deep-g alc">
                @*<label class="label ls drk">STOCK ITEMS ON BILLING</label>*@
            </div>
        </div>
        
        <div class="djq-c">
            <!--CUSTOM HTML CONTENT-->
            <div class="newline n1 d-flex justify-content-center contentDiv">
                <span class="title">SELECT FILE TO UPLOAD</span>

                <form>
                    <input type="file" value="" class="file" accept=".jpg, .png, .jpeg" />

                    <input type="reset" class="reset"/>
                </form>
            </div>
        </div>

        <div class="deep-g d-flex justify-content-around">
            <button type="submit" class="btn clm close-dataJQ okBtn">OK</button>
            <button type="button" class="btn clm close-dataJQ">CANCEL</button>
        </div>
    </div>
</div>

@*Upload Modal pdf*@
<div id="4LkUp" class="djq-modal djq-hide custom">
    <div class="djq-body uploadModal">
        <div>
            <div class="djq-body1 deep-g alc">
                @*<label class="label ls drk">STOCK ITEMS ON BILLING</label>*@
            </div>
        </div>

        <div class="djq-c">
            <!--CUSTOM HTML CONTENT-->
            <div class="newline n1 d-flex justify-content-center contentDiv">
                <span class="title">SELECT FILE TO UPLOAD</span>

                <form>
                    <input type="file" value="" class="pdfFile" accept=".pdf" />

                    <input type="reset" class="pdfReset" />
                </form>
            </div>
        </div>

        <div class="deep-g d-flex justify-content-around">
            <button type="submit" class="btn clm close-dataJQ pdfOkBtn">OK</button>
            <button type="button" class="btn clm close-dataJQ">CANCEL</button>
        </div>
    </div>
</div>

@*Upload Modal pdf*@
<div id="5LkUp" class="djq-modal djq-hide custom">
    <div class="djq-body">
        <div>
            <div class="djq-body1 deep-g alc">
                @*<label class="label ls drk">STOCK ITEMS ON BILLING</label>*@
            </div>
        </div>

        <div class="djq-c">
            <!--CUSTOM HTML CONTENT-->
            <div class="mb-4 d-flex justify-content-center">
                <button type="button" class="btn minusWidth"> - </button>
                <button type="button" class="btn addWidth"> + </button>
            </div>
            <div class="zoomBlock">
                <img src="" class="zoomImage"/>
            </div>
        </div>

        <div class="d-flex justify-content-around">
            <button type="button" class="btn clm close-dataJQ">CANCEL</button>
        </div>
    </div>
</div>





<form method="post" action="@Url.Action("", "File")">
    <section>
        <section class="dif">
            <div class="row py-3">
                <div class="col-md-6">
                    <div class="newline">
                        <label class="label w-5 drk">Query Previous Definitions</label>
                        @Html.DropDownListFor(m => m.MEDHPICPROP.PATIENTNO,
                            new SelectList(Model.MEDHPICPROPS, "facility1", "facility1"), "",
                            new { @id = "ivgFac", @class = "input w-8 increase-height PrevDefinition"})
                    </div>
                    <div class="newline n1">
                        <label class="label drk w-5 w-35">Patient GroupCode</label>
                        <input type="text" name="" value="" class="input w-6 w-50 increase-height groupCode cData2 dData2" />
                        <input type="button" name="btn" id="refLookUp1" class="btn-small" />
                    </div>
                    <div class="newline n1">
                        <label class="label drk w-5 w-35">Patient No</label>
                        <input type="text" name="" value="" class="input w-6 w-50 increase-height patientNo cData1 dData1" />
                        <input type="button" name="btn" id="refLookUp2" class="btn-small" />
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="newline n1">
                        <label class="label drk w-3 w-35">Transaction Date</label>
                        <input type="date" name="" value="@String.Format("{0:yyyy-MM-dd}", DateTime.Now)" class="input w-5 w-50 increase-height transDate" />
                    </div>
                    <div class="newline n1">
                        <label class="label drk w-3 w-35"></label>
                        <input type="text" name="" value="" class="input w-8 w-50 increase-height name1" />
                    </div>
                    <div class="newline n1">
                        <label class="label drk w-3 w-35">Bills Payable By</label>
                        <input type="text" name="" value="" class="input w-8 w-50 increase-height billPayableBy" />
                    </div>
                </div>
            </div>
        </section>

        <section class="dif">
            <div class="row">
                <div class="col-md-10 py-3 borderRight">
                    <div class="d-flex justify-content-around flex-wrap mb-4">
                        <div>
                            <div class="imageBlock mb-3">
                                <img src="" class="pic1"/>
                            </div>
                            <div class="imageText picText1"></div>
                            <input type="hidden" value=""  class="imagePath1"/>
                        </div>
                        <div>
                            <div class="imageBlock mb-3">
                                <img src="" class="pic2"/>
                            </div>
                            <div class="imageText picText2"></div>
                            <input type="hidden" value="" class="imagePath2" />
                        </div>
                        <div>
                            <div class="imageBlock mb-3">
                                <img src="" class="pic3"/>
                            </div>
                            <div class="imageText picText3"></div>
                            <input type="hidden" value="" class="imagePath3" />
                        </div>
                        <div>
                            <div class="imageBlock mb-3">
                                <img src="" class="pic4"/>
                            </div>
                            <div class="imageText picText4"></div>
                            <input type="hidden" value="" class="imagePath4" />
                        </div>
                        <div>
                            <div class="imageBlock mb-3">
                                <img src="" class="pic5"/>
                            </div>
                            <div class="imageText picText5"></div>
                            <input type="hidden" value="" class="imagePath5" />
                        </div>
                    </div>

                    <div class="d-flex justify-content-around flex-wrap">
                        <div>
                            <div class="imageBlock mb-3">
                                <img src="" class="pic6"/>
                            </div>
                            <div class="imageText picText6"></div>
                            <input type="hidden" value="" class="imagePath6" />
                        </div>
                        <div>
                            <div class="imageBlock mb-3">
                                <img src="" class="pic7"/>
                            </div>
                            <div class="imageText picText7"></div>
                            <input type="hidden" value="" class="imagePath7" />
                        </div>
                        <div>
                            <div class="imageBlock mb-3">
                                <img src="" class="pic8"/>
                            </div>
                            <div class="imageText picText8"></div>
                            <input type="hidden" value="" class="imagePath8" />
                        </div>
                        <div>
                            <div class="imageBlock mb-3">
                                <img src="" class="pic9"/>
                            </div>
                            <div class="imageText picText9"></div>
                            <input type="hidden" value="" class="imagePath9" />
                        </div>
                        <div>
                            <div class="imageBlock mb-3">
                                <img src="" class="pic10"/>
                            </div>
                            <div class="imageText picText10"></div>
                            <input type="hidden" value="" class="imagePath10" />
                        </div>
                    </div>
                </div>
                <div class="col-md-2 d-flex justify-content-center align-items-center flex-wrap">
                    <input type="button" name="" value="Load" class="btn loadBtn" />
                    <input type="button" name="" value="Clear" class="btn clearBtn" />
                </div>
            </div>
        </section>

        <section class="dif">
            <div class="row py-2">
                <div class="col-md-4">
                    <div class="newline n1 text-center">
                        <button type="button" class="btn getPDFBtn">Get PDF Files For Specified Date</button>
                    </div>
                    <div class="newline n1">
                        <label class="label drk w-1 w-35">FILE1</label>
                        <input type="text" name="" value="" class="input w-7 w-50 increase-height pdfText1" disabled="disabled"/>
                    </div>
                    <div class="newline n1">
                        <label class="label drk w-1 w-35">FILE2</label>
                        <input type="text" name="" value="" class="input w-7 w-50 increase-height pdfText2" disabled="disabled"/>
                    </div>
                    <div class="newline n1">
                        <label class="label drk w-1 w-35">FILE3</label>
                        <input type="text" name="" value="" class="input w-7 w-50 increase-height pdfText3" disabled="disabled"/>
                    </div>
                    <div class="newline n1">
                        <label class="label drk w-1 w-35">FILE4</label>
                        <input type="text" name="" value="" class="input w-7 w-50 increase-height pdfText4" disabled="disabled"/>
                    </div>
                    <div class="newline n1">
                        <label class="label drk w-1 w-35">FILE5</label>
                        <input type="text" name="" value="" class="input w-7 w-50 increase-height pdfText5" disabled="disabled"/>
                    </div>
                    <div class="newline n1">
                        <label class="label drk w-1 w-35">FILE6</label>
                        <input type="text" name="" value="" class="input w-7 w-50 increase-height pdfText6" disabled="disabled"/>
                    </div>
                    <div class="newline n1">
                        <label class="label drk w-1 w-35">FILE7</label>
                        <input type="text" name="" value="" class="input w-7 w-50 increase-height pdfText7" disabled="disabled"/>
                    </div>
                    <div class="newline n1">
                        <label class="label drk w-1 w-35">FILE8</label>
                        <input type="text" name="" value="" class="input w-7 w-50 increase-height pdfText8" disabled="disabled"/>
                    </div>
                    <div class="newline n1">
                        <label class="label drk w-1 w-35">FILE9</label>
                        <input type="text" name="" value="" class="input w-7 w-50 increase-height pdfText9" disabled="disabled"/>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="imageBigBox m-auto">
                    </div>
                    <div class="d-flex justify-content-between mt-4">
                        <input type="number" name="" value="" placeholder="0" class="input w-2 increase-height" />
                        <input type="number" name="" value="" placeholder="0" class="input w-2 increase-height" />
                    </div>
                </div>
                <div class="col-md-5">
                    <div>
                        <div class="newline n1">
                            <label class="label drk w-2 w-35">Name</label>
                            <input type="text" name="" value="" class="input w-8 w-50 increase-height name2" disabled="disabled" />
                        </div>
                        <div class="newline n1">
                            <label class="label drk w-2 w-35">Facility</label>
                            @Html.DropDownListFor(m => m.SYSCODETABSvm.ServiceCentreCodes.name,
                            new SelectList(Model.SYSCODETABSvm.ServiceCentreCodess, "type_code", "name"), "",
                            new { @id = "ivgFac", @class = "input w-8 increase-height facility" })
                        </div>
                        <div class="newline n1">
                            <label class="label drk w-2 w-35">Date</label>
                            <input type="text" name="" value="" class="input w-8 w-50 increase-height" disabled="disabled"/>
                        </div>
                        <div class="newline n1">
                            <label class="label drk w-2 w-35"></label>
                            <button type="button" class="btn fullScreenBtn">Full Screen Image</button>
                            @*<input type="checkbox" id="fullScreen" class="" />
                            <label for="fullScreen" class="label drk w-2 w-35">Full Screen</label>*@
                        </div>
                        <div class="newline n1">
                            <label class="label drk w-2 w-35">Notes</label>
                            <textarea class="w-8 textArea" rows="10"></textarea>
                        </div>
                    </div>
                </div>
            </div>
        </section>


        <section class="dif">
            <div class="d-flex justify-content-around flex-wrap py-3">
                <input type="button" name="" value="Submit" class="btn submitBtn" />
                <a href="~/Home/Index" title="Close"><input type="button" name="" value="Close" class="btn oraa" /></a>
            </div>
        </section>

    </section>

    @*for modals*@
    <input type="hidden" id="refLookUp3" />
    <input type="hidden" id="refLookUp4" />
    <input type="hidden" id="refLookUp5" />

    <input type="hidden" value="1" class="picsCounter" />
    <input type="hidden" value="1" class="pdfCounter" />
    <input type="hidden" value="" class="hiddenImageName" />
    
</form>





@section scripts
{
    <script>
        $(function () {
            var dOM = $('body'); //must assign
            var formFields = document.getElementById('mainForm'); //must assign, used for calling javaScript methods
            appendTagInvalid1(dOM, "@ViewBag.iinvalid"); //must call
            servErrorAlert("#eLkUp", "@ViewBag.Msg"); //must call

            var dTHN1 = ['NAME', 'GROUPCODE', 'PATIENTNO', 'RESIDENCE', 'GROUPHEAD', 'SEX', 'PHONE']; //for table header
            var dBCN1 = ['NAME', 'GROUPCODE', 'PATIENTNO', 'RESIDENCE', 'GROUPHEAD', 'SEX', 'PHONE']; //for database header
            var jaxURL1 = "@Url.Action("RptBillChainLookUp", "AJAX")";


            //For Patient No.
            LoadDynamicDT1(jaxURL1, dTHN1, dBCN1, 'BILLCHAINS', '#refLookUp1', '#1LkUp', '#regPTable1', '.cData', [4, 3]);

            //For Patient GroupCode
            LoadDynamicDT1(jaxURL1, dTHN1, dBCN1, 'BILLCHAINS', '#refLookUp2', '#2LkUp', '#regPTable2', '.dData', [4, 3]);

            function ClearControls() {
                location.reload(true);
                scrollToTop();
            }

            //on load
            $(".reset").hide();
            $(".pdfReset").hide();
            $(".submitBtn").prop({ disabled: true });


            ShowModal(dOM, '#refLookUp3', '#3LkUp', function aF() {
                dOM.find('#3LkUp .okBtn').on({
                    click: function () {
                        let files = $(".file").prop("files");
                        let fileTypes = /jpg|jpeg|png/;
                        let isFILE = fileTypes.test(files[0].type);
                        let isPDF = isFILE ? false : true;
                        let picsCounter = Number($(".picsCounter").val());
                        let data = new FormData();

                        data.append("file", files[0]);
                        data.append("isPDF", isPDF);

                        if (picsCounter > 10) {
                            alert("Maximum Image Loadable per Treatment Date is 10");
                            return;
                        }

                        $.ajax({
                            url: "/AJAX/imageOkBtnClicked",
                            method: "POST",
                            processData: false,
                            contentType: false,
                            data: data,
                            success: function (data) {
                                if (data != null) {
                                    if (data.pictureBox1 != null) {

                                        if (picsCounter <= 10) {
                                            $(`.pic${picsCounter}`).prop({ src: `/Resources/Images/${data.pictureBox1}` });
                                            $(`.picText${picsCounter}`).text(data.pictureBox1);
                                            $(`.imagePath${picsCounter}`).val(data.RptPath);
                                        }

                                        picsCounter++;

                                        $(".picsCounter").val(picsCounter);
                                        $(".submitBtn").prop({ disabled: false });
                                    }
                                    
                                    $(".reset").click();
                                }
                            }
                        });

                    }
                });

                dOM.find('#3LkUp .file').on({
                    change: function () {
                        
                    }
                });

            });

            ShowModal(dOM, '#refLookUp4', '#4LkUp', function aF() {
                dOM.find('#4LkUp .pdfOkBtn').on({
                    click: function () {
                        let files = $(".pdfFile").prop("files");
                        let fileTypes = /pdf/;
                        let isFILE = fileTypes.test(files[0].type);
                        let isPDF = isFILE ? false : true;
                        let pdfCounter = Number($(".pdfCounter").val());
                        let data = new FormData();

                        data.append("file", files[0]);
                        data.append("isPDF", isPDF);

                        if (pdfCounter > 9) {
                            alert("Maximum PDF Loadable per Treatment Date is 9");
                            return;
                        }

                        $.ajax({
                            url: "/AJAX/imageOkBtnClicked",
                            method: "POST",
                            processData: false,
                            contentType: false,
                            data: data,
                            success: function (data) {
                                if (data != null) {
                                    if (data.pictureBox1 != null) {

                                        if (pdfCounter <= 9) {
                                            $(`.pdfText${pdfCounter}`).val(data.RptPath);
                                        }

                                        pdfCounter++;

                                        $(".pdfCounter").val(pdfCounter);
                                        $(".submitBtn").prop({ disabled: false });
                                    }

                                    $(".pdfReset").click();
                                }
                            }
                        });

                    }
                });

                dOM.find('#4LkUp .pdfFile').on({
                    change: function () {

                    }
                });

            });

            ShowModal(dOM, '#refLookUp5', '#5LkUp', function aF() {
                dOM.find('#5LkUp .minusWidth').on({
                    click: function () {
                        let currentWidth = $(".zoomImage").width();
                        let currentHeight = $(".zoomImage").height();

                        if (currentHeight > 200) {
                            $(".zoomImage").width(function (i, c) {
                                return c - 20;
                            });

                            $(".zoomImage").height(function (i, c) {
                                return c - 20;
                            });
                        }
                    }
                });

                dOM.find('#5LkUp .addWidth').on({
                    click: function () {
                        let currentWidth = $(".zoomImage").width();
                        let currentHeight = $(".zoomImage").height();

                        if (currentWidth < 797) {
                            $(".zoomImage").width(function (i, c) {
                                return c + 20;
                            });

                            $(".zoomImage").height(function (i, c) {
                                return c + 20;
                            });
                        }
                    }
                });
            });


            $(".PrevDefinition").on({
                focusout: function () {
                    let PrevDefinition = $(this).val();

                    if (PrevDefinition == "" || PrevDefinition == null) {
                        return;
                    }

                    let array = PrevDefinition.split(":");
                    let groupCode = array[0].trim();
                    let patientNo = array[1].trim();
                    let transDate = array[2].trim();

                    $(".groupCode").val(groupCode);
                    $(".patientNo").val(patientNo);
                    $(".transDate").val(transDate);

                    $.ajax({
                        url: "/AJAX/PrevDefinitionFocusOut",
                        method: "POST",
                        data: { groupCode: groupCode, patientNo: patientNo, transDate: transDate },
                        success: function (data) {
                            if (data != null) {
                                
                                if (data.MEDHPICPROP != null) {
                                    let MEDHPICPROP = data.MEDHPICPROP;

                                    if (MEDHPICPROP.PIC1 != null) {
                                        $(`.pic1`).prop({ src: `/Resources/Images/${MEDHPICPROP.PIC1}` });
                                        $(`.picText1`).text(MEDHPICPROP.PIC1);
                                    }
                                    if (MEDHPICPROP.PIC2 != null) {
                                        $(`.pic2`).prop({ src: `/Resources/Images/${MEDHPICPROP.PIC2}` });
                                        $(`.picText2`).text(MEDHPICPROP.PIC2);
                                    }
                                    if (MEDHPICPROP.PIC4 != null) {
                                        $(`.pic4`).prop({ src: `/Resources/Images/${MEDHPICPROP.PIC5}` });
                                        $(`.picText4`).text(MEDHPICPROP.PIC4);
                                    }
                                    if (MEDHPICPROP.PIC5 != null) {
                                        $(`.pic5`).prop({ src: `/Resources/Images/${MEDHPICPROP.PIC5}` });
                                        $(`.picText5`).text(MEDHPICPROP.PIC5);
                                    }
                                    if (MEDHPICPROP.PIC6 != null) {
                                        $(`.pic6`).prop({ src: `/Resources/Images/${MEDHPICPROP.PIC6}` });
                                        $(`.picText6`).text(MEDHPICPROP.PIC6);
                                    }
                                    if (MEDHPICPROP.PIC7 != null) {
                                        $(`.pic7`).prop({ src: `/Resources/Images/${MEDHPICPROP.PIC7}` });
                                        $(`.picText7`).text(MEDHPICPROP.PIC7);
                                    }
                                    if (MEDHPICPROP.PIC8 != null) {
                                        $(`.pic8`).prop({ src: `/Resources/Images/${MEDHPICPROP.PIC8}` });
                                        $(`.picText8`).text(MEDHPICPROP.PIC8);
                                    }
                                    if (MEDHPICPROP.PIC9 != null) {
                                        $(`.pic9`).prop({ src: `/Resources/Images/${MEDHPICPROP.PIC9}` });
                                        $(`.picText9`).text(MEDHPICPROP.PIC9);
                                    }
                                    if (MEDHPICPROP.PIC10 != null) {
                                        $(`.pic10`).prop({ src: `/Resources/Images/${MEDHPICPROP.PIC10}` });
                                        $(`.picText10`).text(MEDHPICPROP.PIC10);
                                    }



                                    if (MEDHPICPROP.pdffile1 != null) {
                                        $(`.pdfText1`).val(MEDHPICPROP.pdffile1);
                                    }
                                    if (MEDHPICPROP.pdffile2 != null) {
                                        $(`.pdfText2`).val(MEDHPICPROP.pdffile2);
                                    }
                                    if (MEDHPICPROP.pdffile3 != null) {
                                        $(`.pdfText3`).val(MEDHPICPROP.pdffile3);
                                    }
                                    if (MEDHPICPROP.pdffile4 != null) {
                                        $(`.pdfText4`).val(MEDHPICPROP.pdffile4);
                                    }
                                    if (MEDHPICPROP.pdffile5 != null) {
                                        $(`.pdfText5`).val(MEDHPICPROP.pdffile5);
                                    }
                                    if (MEDHPICPROP.pdffile6 != null) {
                                        $(`.pdfText6`).val(MEDHPICPROP.pdffile6);
                                    }
                                    if (MEDHPICPROP.pdffile7 != null) {
                                        $(`.pdfText7`).val(MEDHPICPROP.pdffile7);
                                    }
                                    if (MEDHPICPROP.pdffile8 != null) {
                                        $(`.pdfText8`).val(MEDHPICPROP.pdffile8);
                                    }
                                    if (MEDHPICPROP.pdffile9 != null) {
                                        $(`.pdfText9`).val(MEDHPICPROP.pdffile9);
                                    }
                                   


                                }
                            }
                        }
                    })

                }
            })


            $(".patientNo").on({
                focusout: function () {
                    let patientNo = $(this).val().trim();
                    let groupCode = $(".groupCode").val().trim();

                    if (patientNo != "") {
                        $.ajax({
                            url: "/AJAX/imageAcqPatientNoFocusOut",
                            method: "POST",
                            data: { groupCode: groupCode, patientNo: patientNo },
                            success: function (data) {
                                if (data != null) {
                                    if (data.alertMessage != null) {
                                        alert(data.alertMessage);
                                        return;
                                    }

                                    $(".name1").val(data.TXTPATIENTNAME);
                                    $(".billPayableBy").val(data.txtgrouphead);
                                }
                            }
                        })
                    }
                }
            })


            $(".clearBtn").on({
                click: function () {
                    if (confirm("Confirm to Clear ALL Selections...")) {
                        ClearControls();
                    }
                }
            })


            $(".loadBtn").on({
                click: function () {
                    let patientNo = $(".patientNo").val().trim();
                    let groupCode = $(".groupCode").val().trim();
                    let facility = $(".facility").val();

                    if (facility == "" || facility == null) {
                        alert("Facility must be identified...");
                        $(".facility").focus();
                        return;
                    } else if (patientNo == "") {
                        alert("patientNo must be identified...");
                        $(".patientNo").focus();
                        return;
                    } else if (groupCode == "") {
                        alert("groupCode must be identified...");
                        $(".groupCode").focus();
                        return;
                    } else {
                        $("#refLookUp3").click();
                    }

                }
            })


            $(".getPDFBtn").on({
                click: function () {
                    let patientNo = $(".patientNo").val().trim();
                    let groupCode = $(".groupCode").val().trim();
                    let facility = $(".facility").val();

                    if (facility == "" || facility == null) {
                        alert("Facility must be identified...");
                        $(".facility").focus();
                        return;
                    } else if (patientNo == "") {
                        alert("patientNo must be identified...");
                        $(".patientNo").focus();
                        return;
                    } else if (groupCode == "") {
                        alert("groupCode must be identified...");
                        $(".groupCode").focus();
                        return;
                    } else {
                        $("#refLookUp4").click();
                    }

                }
            })


            $(".imageBlock").on({
                click: function () {
                    let imageName = $(this).parent().find("div").eq(1).text().trim();
                    let imageNo = $(this).find("img").prop("class").slice(-1);
                    let path = $(`.imagePath${imageNo}`).val();

                    if (imageName != "") {
                        $(".imageBigBox").html(`<img src="/Resources/Images/${imageName}" />`)
                        $(".name2").val(path);
                        $(".hiddenImageName").val(imageName);
                    }

                }
            })


            $(".fullScreenBtn").on({
                click: function () {
                    let hiddenImageName = $(".hiddenImageName").val().trim();

                    if (hiddenImageName == "") {
                        alert("No selected Image!!");
                        return;
                    }

                    $("#refLookUp5").click();
                    $(".zoomImage").prop({ src: `/Resources/Images/${hiddenImageName}` });
                }
            })


            $(".submitBtn").on({
                click: function () {
                    let patientNo = $(".patientNo").val().trim();
                    let facility = $(".facility").val().trim();
                    let groupCode = $(".groupCode").val().trim();
                    let transDate = $(".transDate").val();

                    let imagePath1 = $(".imagePath1").val();
                    let imagePath2 = $(".imagePath2").val();
                    let imagePath3 = $(".imagePath3").val();
                    let imagePath4 = $(".imagePath4").val();
                    let imagePath5 = $(".imagePath5").val();
                    let imagePath6 = $(".imagePath6").val();
                    let imagePath7 = $(".imagePath7").val();
                    let imagePath8 = $(".imagePath8").val();
                    let imagePath9 = $(".imagePath9").val();
                    let imagePath10 = $(".imagePath10").val();

                    let pdfText1 = $(".pdfText1").val();
                    let pdfText2 = $(".pdfText2").val();
                    let pdfText3 = $(".pdfText3").val();
                    let pdfText4 = $(".pdfText4").val();
                    let pdfText5 = $(".pdfText5").val();
                    let pdfText6 = $(".pdfText6").val();
                    let pdfText7 = $(".pdfText7").val();
                    let pdfText8 = $(".pdfText8").val();
                    let pdfText9 = $(".pdfText9").val();

                    let dataObject = {
                        txtpatientno: patientNo,
                        txtgroupcode: groupCode,
                        txtTimeFrom: transDate,
                        txtImage1: imagePath1,
                        txtImage2: imagePath2,
                        txtImage3: imagePath3,
                        txtImage4: imagePath4,
                        txtImage5: imagePath5,
                        txtImage6: imagePath6,
                        txtImage7: imagePath7,
                        txtImage8: imagePath8,
                        txtImage9: imagePath9,
                        txtImage10: imagePath10,
                        txtPDF1: pdfText1,
                        txtPDF2: pdfText2,
                        txtPDF3: pdfText3,
                        txtPDF4: pdfText4,
                        txtPDF5: pdfText5,
                        txtPDF6: pdfText6,
                        txtPDF7: pdfText7,
                        txtPDF8: pdfText8,
                        txtPDF9: pdfText9,
                    }
                    

                    if (patientNo == "") {
                        alert("Patient No is Required!!");
                        $(".patientNo").focus();
                        return;
                    } else if (facility == "" || facility == null) {
                        alert("Facility is Required!!");
                        $(".facility").focus();
                        return;
                    } else {

                        if (confirm("Confirm to Submit ALL Selections...")) {
                            $.ajax({
                                url: "/AJAX/imageAcqSubmitClicked",
                                method: "POST",
                                data: { dataObject: dataObject },
                                success: function (data) {
                                    if (data != null) {
                                        $(".submitBtn").prop({ disabled: true });

                                        if (data.alertMessage != null) {
                                            alert(data.alertMessage);
                                            return;
                                        }

                                    }
                                }
                            })
                        }

                    }


                }
            })


        })
    </script>
}